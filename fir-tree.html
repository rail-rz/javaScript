<!DOCTYPE html>
<html>
<head>
	<title>Елка</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="Description" content="Новогодняя елка своими руками">
	<link rel="stylesheet" href="css/fir-tree.css" type="text/css">
    <link rel="stylesheet" href="css/bell.css" type="text/css">
    <link rel="stylesheet" href="css/candle.css" type="text/css">
	<script src="js/initial.js"></script>
	<script src="js/snow.js"></script>
	<script src="js/footerSnow.js"></script>
	<script>
		var amountFireCircle = 1000; // из скольки кругов будет состоять огонь
		var speedFire = 0.5; // скорость
		var maxSizeCircle = 8; // макс. размер спрайта
		var minSizeCircle = 1; // минимальный размер спрайта
		var fireElementsColor = new Array(
				'#FFFF00',
				'#CD5C5C',
				'#B22222',
				'#FF3030',
				'#EE2C2C',
				'#CD2626',
				'#8B1A1A',
				'#FF7F00',
				'#EE7600',
				'#CD6600',
				'#FF0000',
				'#EE0000',
				'#CD0000',
				'#8B0000',
				'#FF4500',
				'#EE4000',
				'#CD3700',
				'#FF4500'
		);

		var fire = new Array();

		function fireElements() {
			for(i=0;i<=amountFireCircle;++i) {
				fire[i] = document.getElementById("fire-element-"+i);
				fire[i].size = getRandom(minSizeCircle,maxSizeCircle);
				fire[i].style.background = getRandomVarFromArray(fireElementsColor);
				fire[i].speedInY = (fire[i].size-maxSizeCircle)*getRandom(0.9,0.1);
				fire[i].style.width = fire[i].style.height = fire[i].size+'px';
				fire[i].positionOnX=(maxSizeCircle-fire[i].size)/2;
				fire[i].positionOnY=0;
			}
			actionFire();
		}

		function actionFire() {
			for(i=0;i<=amountFireCircle;i++) {

//				fire[i].positionOnX+= (maxSizeCircle-fire[i].size)/maxSizeCircle;
				fire[i].positionOnY+=fire[i].speedInY ;
				fire[i].style.left=fire[i].positionOnX+'px';
				fire[i].style.top=fire[i].positionOnY+'px';
				// макс. расстояние на которое может пролететь элемент огня
				// 2 раза больше макс. рассояния
				if (fire[i].positionOnY <= -5*(maxSizeCircle-fire[i].size)/2) {
					fire[i].positionOnX=(maxSizeCircle-fire[i].size)/2;
					fire[i].positionOnY=0;
				}
			}
			setTimeout("actionFire()",50);
		}
        
        function getFireElement(max, min) {
            for(i=min;i<=max;++i) {
                document.write("<div id='fire-element-"+i+"' class='fire-element'></div>");
            }
        }
	</script>
</head>
<body onLoad = "Init()" >
<div class="body-block">
    <div class="fir-tree">    

	    <div class="bell-toy">
            <div class="bow">
                <div class="bow-left"></div>
                <div class="bow-right"></div>
            </div>
            <div class="bells">
                <div class="bell-left">
                    <div class="bell"></div>
                    <div class="trapezoid"></div>
                    <div class="radius"></div>
                </div>
                <div class="bell-right">
                    <div class="bell"></div>
                    <div class="trapezoid"></div>
                    <div class="radius"></div>
                </div>
            </div>
        </div>
        
        <div class="candle-fir-tree-head">
            <div class="candle" style=' left:140px;'>
                <div class="fire">
                    <script> getFireElement(100,0); </script>
                </div>
                <div class="candle-body"></div>
            </div>

            <div class="candle" style=' left:115px; top: 5px'>
                <div class="fire">
                    <script> getFireElement(200,100); </script>
                </div>
                <div class="candle-body"></div>
            </div>

            <div class="candle" style=' left:85px; top:8px'>
                <div class="fire">
                    <script> getFireElement(300,200); </script>
                </div>
                <div class="candle-body"></div>
            </div>

            <div class="candle" style=' left:55px; top: 5px'>
                <div class="fire">
                    <script> getFireElement(400,300); </script>
                </div>
                <div class="candle-body"></div>
            </div>

            <div class="candle" style='left:30px;'>
                <div class="fire">
                    <script> getFireElement(500,400); </script>
                </div>
                <div class="candle-body"></div>
            </div>
        </div>

        <div class="candle-fir-tree-body">
            <div class="candle" style=' left:140px;'>
                <div class="fire">
                    <script> getFireElement(600,500); </script>
                </div>
                <div class="candle-body"></div>
            </div>

            <div class="candle" style=' left:115px; top: 5px'>
                <div class="fire">
                    <script> getFireElement(700,600); </script>
                </div>
                <div class="candle-body"></div>
            </div>

            <div class="candle" style=' left:85px; top:8px'>
                <div class="fire">
                    <script> getFireElement(800,700); </script>
                </div>
                <div class="candle-body"></div>
            </div>

            <div class="candle" style=' left:55px; top: 5px'>
                <div class="fire">
                    <script> getFireElement(900,800); </script>
                </div>
                <div class="candle-body"></div>
            </div>

            <div class="candle" style='left:30px;'>
                <div class="fire">
                    <script> getFireElement(1000,900); </script>
                </div>
                <div class="candle-body"></div>
            </div>
        </div>

        <div id="fir-tree-head">
          
        </div>
        <div id="fir-tree-body"></div>
	    <div id="fir-tree-body-2"></div>
        <div id="fir-tree-bottom"></div>
        <div id="fir-tree-footer"></div>
        <div id="fir-tree-snow-center"></div>
	</div>
    
    <div class="footer-snow"></div>

    <audio controls autoplay preload>
        <source src="mp3/1.mp3" type="audio/mpeg">
        Тег audio не поддерживается вашим браузером.
    </audio>
</div>
</body>
</html>